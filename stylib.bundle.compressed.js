(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var stylib=require("./stylib");(function(win,doc){if("object"!==typeof window["SL"]){window["SL"]={};for(var prop in stylib){if(!stylib.hasOwnProperty(prop)){continue}window["SL"][prop]=stylib[prop]}}})(window,document)},{"./stylib":5}],2:[function(require,module,exports){var string=require("../utils/string");var parse=function(str){var obj={};var sets=str.split(";");for(var i in sets){var set=string.trim(sets[i]);if(!set){continue}var prop=string.trim(set.split(":")[0]);var val=string.trim(set.split(":")[1]);if(prop&&val){obj[prop]=val}}return obj};var stringify=function(obj){var str="";for(var prop in obj){if(!obj.hasOwnProperty(prop)){continue}var val=obj[prop];str+=prop+": "+val+"; "}return str};module.exports.parse=parse;module.exports.stringify=stringify},{"../utils/string":7}],3:[function(require,module,exports){var string=require("../utils/string");var parse=function(str){var obj={};var delimitor=Math.random().toString(36).slice(2);var arr=str.split("{").join(delimitor+"{").split("}").join("}"+delimitor).split(delimitor);for(var i=0;i<arr.length;i+=2){if(i+1===arr.length){continue}var selector=string.trim(string.removeLineBreakers(arr[i]));if(!selector){continue}obj[selector]={};var rules=string.removeLineBreakers(arr[i+1]);rules=rules.slice(1,rules.length-1);var sets=rules.split(";");for(var j in sets){var set=sets[j];var prop=string.trim(set.split(":")[0]);if(!prop){continue}var val=string.trim(set.split(":")[1]);if(!val){continue}obj[selector][prop]=val}}return obj};var stringify=function(obj){var str="";for(var selector in obj){if(!obj.hasOwnProperty(selector)){continue}var rules=obj[selector];str+=selector+" {\n";for(var prop in rules){if(!rules.hasOwnProperty(prop)){continue}var val=rules[prop];str+="\t"+prop+": "+val+";\n"}str+="}\n"}return str};module.exports.parse=parse;module.exports.stringify=stringify},{"../utils/string":7}],4:[function(require,module,exports){var string=require("../utils/string");var array=require("../utils/array");var ATTRIBUTES_OPERATORS={"":"present","=":"equals","*=":"contains","^=":"beginsWith","$=":"endsWith","~=":"spaced","|=":"hyphenated"};var HIERARCHY_OPERATORS={" ":"descendant",">":"directChild","~":"generalSibling","+":"adjacentSibling"};var PSEUDOE_NOT_REGEX=/:not[^\)]*/g;var NON_VAL_ATTRS_REGEX=/\[-?[_a-zA-Z]+[_a-zA-Z0-9-]*\]/g;var WITH_VAL_ATTRS_REGEX=/\[-?[_a-zA-Z]+[_a-zA-Z0-9-]*[\^\*\$\~\|]*\=[\"\'].*[\"\']\]/g;var ID_REGEX=/\#-?[_a-zA-Z]+[_a-zA-Z0-9-]*/g;var CLASS_REGEX=/\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*/g;var PSEUDOE_REGEX=/\:-?[_a-zA-Z]+[_a-zA-Z0-9-\(\+\)]*/g;var getRegexMatches=function(str,rgx,onmatch){rgx=new RegExp(rgx);onmatch=onmatch||function(match){return match};var matches=[];var res=rgx.exec(str);while(res){res=onmatch(res[0]);matches.push(res);res=rgx.exec(str)}return matches};var getTag=function(selector){return string.trim(selector.split(".")[0].split("#")[0].split(":")[0].split(" ")[0])||null};var getIds=function(selector){selector=selector.replace(NON_VAL_ATTRS_REGEX,"");selector=selector.replace(WITH_VAL_ATTRS_REGEX,"");selector=selector.replace(PSEUDOE_NOT_REGEX,"");var matches=getRegexMatches(selector,ID_REGEX,function(match){return match.substr(1,match.length)});return matches};var getClasses=function(selector){selector=selector.replace(NON_VAL_ATTRS_REGEX,"");selector=selector.replace(WITH_VAL_ATTRS_REGEX,"");selector=selector.replace(PSEUDOE_NOT_REGEX,"");var matches=getRegexMatches(selector,CLASS_REGEX,function(match){return match.substr(1,match.length)});return matches};var getPseudos=function(selector){selector=selector.replace(NON_VAL_ATTRS_REGEX,"");selector=selector.replace(WITH_VAL_ATTRS_REGEX,"");selector=selector.replace(PSEUDOE_NOT_REGEX,"");var matches=getRegexMatches(selector,PSEUDOE_REGEX,function(match){return match.substr(1,match.length)});return matches};var getNots=function(selector){var matches=getRegexMatches(selector,PSEUDOE_NOT_REGEX,function(match){return match.slice(5,match.length)});if(!matches.length){return null}return matches};var getAttributes=function(selector){selector=selector.replace(PSEUDOE_NOT_REGEX,"");selector=selector.split("][").join("]\n[");var matches=getRegexMatches(selector,WITH_VAL_ATTRS_REGEX).concat(getRegexMatches(selector,NON_VAL_ATTRS_REGEX));var arr=[];for(var i in matches){var prop,val,behav,operator="";var attr=matches[i];var attrObj={};attrObj["raw"]=attr;attr=attr.slice(1,attr.length-1);var eqSignPos=attr.indexOf("=");if(-1===eqSignPos){prop=attr;val=null;behav=ATTRIBUTES_OPERATORS[operator]}else{operator=attr.slice(eqSignPos-1,eqSignPos+1);if(!array.includes(Object.keys(ATTRIBUTES_OPERATORS),operator)){operator="="}prop=attr.split(operator)[0];val=attr.substring(attr.indexOf(operator)+operator.length+1,attr.length-1);behav=ATTRIBUTES_OPERATORS[operator]}attrObj["property"]=prop;attrObj["value"]=val;attrObj["behaviour"]=behav;attrObj["operator"]=operator;arr[i]=attrObj}return arr};var splitByHierarchy=function(selector){var parts=selector.split(/( )/);for(var i=0;i<parts.length;i++){var bfrChar=parts[i-1];var curChar=parts[i];var afrChar=parts[i+1];if(array.includes(Object.keys(HIERARCHY_OPERATORS),curChar)){var operator=curChar;if(" "===bfrChar&&" "===afrChar){return[parts.slice(0,i+1).join(""),HIERARCHY_OPERATORS[operator],parts.slice(i+2).join("")]}var bfrCharIsOperator=array.includes(Object.keys(HIERARCHY_OPERATORS),bfrChar);var afrCharIsOperator=array.includes(Object.keys(HIERARCHY_OPERATORS),afrChar);if(" "===operator&&(bfrCharIsOperator||afrCharIsOperator)){continue}return[parts.slice(0,i-1).join(""),HIERARCHY_OPERATORS[operator],parts.slice(i).join("")]}}return null};var parse=function(str){var arr=[];var selectors=str.split(",");for(var i in selectors){var selector=selectors[i];if(!selector){continue}var obj={};selector=string.trim(selector);obj["selector"]=selector.split(" ")[0];obj["tag"]=getTag(selector);var ret=splitByHierarchy(selector);if(ret){var bfrSelector=ret[0];var hierarchyKind=ret[1];var afrSelector=ret[2];obj[hierarchyKind]=parse(afrSelector)[0];selector=bfrSelector}obj["ids"]=getIds(selector);obj["classes"]=getClasses(selector);obj["pseudos"]=getPseudos(selector);var nots=getNots(obj["selector"]);if(nots){obj["nots"]=[];for(var j in nots){obj["nots"][j]=parse(nots[j])[0]}}obj["attributes"]=getAttributes(selector);arr[i]=obj}return arr};var stringify=function(arr){var str="";for(var i in arr){var selector=arr[i];str+=selector["selector"];var addComma=true;for(var operator in HIERARCHY_OPERATORS){var hir=HIERARCHY_OPERATORS[operator];if(selector[hir]){str+=(" "+operator+" ").replace("   "," ");str+=stringify([selector[hir]]);addComma=false}}if(addComma){str+=", "}}return str};module.exports.parse=parse;module.exports.stringify=stringify},{"../utils/array":6,"../utils/string":7}],5:[function(require,module,exports){var inline=require("./modules/inline");var outline=require("./modules/outline");var selector=require("./modules/selector");module.exports.inline=inline;module.exports.outline=outline;module.exports.selector=selector},{"./modules/inline":2,"./modules/outline":3,"./modules/selector":4}],6:[function(require,module,exports){var includes=function(arr,search,start){if("number"!==typeof start){start=0}return-1!==arr.indexOf(search,start)};module.exports.includes=includes},{}],7:[function(require,module,exports){var trim=function(str){return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};var removeLineBreakers=function(str){return str.replace(/(\r\n|\n|\r)/gm,"")};module.exports.trim=trim;module.exports.removeLineBreakers=removeLineBreakers},{}]},{},[1]);
